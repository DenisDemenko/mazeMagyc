
import { xorCipher } from '../utils/encryption';
import { MazeSize } from '../App';

interface EncryptedPair {
  w1: string;
  w2: string;
  id: number; // ID for the book reference
}

// Raw word lists by category/difficulty
// LEVEL 1: SMALL (Simple Nature & Animals) - IDs 1-20
const smallPairs = [
  ["Сонце", "Небо"], ["Кіт", "Мур"], ["Пес", "Гав"], ["Риба", "Вода"], ["Птах", "Крила"],
  ["Ліс", "Гриб"], ["Поле", "Квітка"], ["Сад", "Яблуко"], ["Зима", "Сніг"], ["Літо", "Спека"],
  ["Ніч", "Сон"], ["Ранок", "Кава"], ["Дім", "Дах"], ["Двері", "Ключ"], ["Стіл", "Стілець"],
  ["Рука", "Палець"], ["Око", "Брова"], ["Рот", "Зуб"], ["Нога", "Крок"], ["Шлях", "Пилюка"]
];

// LEVEL 2: MEDIUM (Elements & Materials) - IDs 21-40
const mediumPairs = [
  ["Вогонь", "Дим"], ["Вода", "Пара"], ["Земля", "Глина"], ["Повітря", "Вітер"], ["Золото", "Блиск"],
  ["Срібло", "Місяць"], ["Залізо", "Іржа"], ["Мідь", "Дріт"], ["Камінь", "Скеля"], ["Пісок", "Пляж"],
  ["Скло", "Вікно"], ["Дерево", "Дошка"], ["Папір", "Лист"], ["Тканина", "Шовк"], ["Шкіра", "Ремінь"],
  ["Цегла", "Стіна"], ["Бетон", "Блок"], ["Нафта", "Бензин"], ["Вугілля", "Жар"], ["Крейда", "Дошка"]
];

// LEVEL 3: LARGE (Abstract & Action) - IDs 41-60
const largePairs = [
  ["Час", "Годинник"], ["Простір", "Космос"], ["Швидкість", "Рух"], ["Сила", "М'яз"], ["Розум", "Думка"],
  ["Любов", "Серце"], ["Радість", "Сміх"], ["Сум", "Сльоза"], ["Гнів", "Крик"], ["Страх", "Тінь"],
  ["Мудрість", "Книга"], ["Свобода", "Птах"], ["Перемога", "Кубок"], ["Поразка", "Урок"], ["Початок", "Старт"],
  ["Кінець", "Фініш"], ["Питання", "Відповідь"], ["Задача", "Рішення"], ["Мрія", "Зірка"], ["План", "Схема"]
];

// LEVEL 4: XL (Fantasy & Myth) - IDs 61-80
const xlPairs = [
  ["Дракон", "Вогонь"], ["Магія", "Посох"], ["Король", "Корона"], ["Лицар", "Меч"], ["Відьма", "Зілля"],
  ["Ельф", "Лук"], ["Гном", "Сокира"], ["Привид", "Ланцюг"], ["Замок", "Вежа"], ["Скарб", "Скриня"],
  ["Карта", "Хрестик"], ["Острів", "Пальма"], ["Море", "Шторм"], ["Корабель", "Вітрило"], ["Компас", "Північ"],
  ["Руна", "Камінь"], ["Амулет", "Захист"], ["Портал", "Світ"], ["Демон", "Роги"], ["Ангел", "Німб"]
];

// LEVEL 5: HARDCORE (Cosmos & Philosophy) - IDs 81-100
const hardcorePairs = [
  ["Альфа", "Омега"], ["Інь", "Янь"], ["Буття", "Ніщо"], ["Хаос", "Порядок"], ["Атом", "Ядро"],
  ["Всесвіт", "Вибух"], ["Планета", "Орбіта"], ["Зірка", "Світло"], ["Чорна", "Діра"], ["Гравітація", "Вага"],
  ["Енергія", "Джоуль"], ["Квант", "Стрибок"], ["Матриця", "Код"], ["Логіка", "Розум"], ["Етика", "Мораль"],
  ["Доля", "Випадок"], ["Карма", "Дія"], ["Душа", "Тіло"], ["Вічність", "Мить"], ["Істина", "Пошук"]
];

const encryptList = (list: string[][], startId: number): EncryptedPair[] => {
  return list.map((pair, index) => ({
    w1: xorCipher(pair[0]),
    w2: xorCipher(pair[1]),
    id: startId + index
  }));
};

const WORD_DB: Record<MazeSize, EncryptedPair[]> = {
  'small': encryptList(smallPairs, 1),
  'medium': encryptList(mediumPairs, 21),
  'large': encryptList(largePairs, 41),
  'xl': encryptList(xlPairs, 61),
  'hardcore': encryptList(hardcorePairs, 81)
};

export const getPairForLevel = (size: MazeSize): { pair: { w1: string, w2: string }, id: number } => {
  const list = WORD_DB[size];
  const randomIndex = Math.floor(Math.random() * list.length);
  const selected = list[randomIndex];
  return {
    pair: { w1: selected.w1, w2: selected.w2 },
    id: selected.id
  };
};
